{"version":3,"file":"index.js","sources":["../src/js/pagination.js"],"sourcesContent":["const paginationEl = document.querySelector('.pagination-container');\nconst pagesList = document.querySelector('.pagination-pages');\nconst arrowButtons = document.querySelectorAll('.pagination-arrows');\n\nconst btnToStart = arrowButtons[0].children[0].children[0];\nconst btnPreviousPage = arrowButtons[0].children[1].children[0];\nconst btnNextPage = arrowButtons[1].children[0].children[0];\nconst btnLastPage = arrowButtons[1].children[1].children[0];\n\nlet activePage;\n\n// Сам Fetcher замінити на наш \nfunction fetchCategories(filter = 'Muscles', page = 1) {\n    const response = fetch(`https://your-energy.b.goit.study/api/filters?filter=${filter}&page=${page}&limit=10`)\n        .then(result => { return result.json() })\n        .then((data) => {\n            // 01. Pagination Render\n            // Якщо сторінок більше ніж 2 показуємо пагінацію, кількість сторінок генеруємо\n            const pagesNo = data.totalPages;\n            if (pagesNo >= 2) {\n                paginationEl.removeAttribute('hidden');\n                let HTMLArray = [];\n                for (let i = 0; i < pagesNo; i++) {\n                    HTMLArray.push(`<li><button class=\"pagination-page\" data-page=\"${i + 1}\">${i + 1}</button></li>`)\n                };\n                pagesList.innerHTML = HTMLArray.join('')\n            };\n            // Згенерована сторінка є активною\n            activePage = pagesList.children[page - 1].children[0];\n            activePage.classList.toggle('active', true);\n\n            return pagesNo\n        })\n        .then((pagesNo) => {\n            // 02. Додаємо слухача на всі інші номера сторінок\n            pagesList.addEventListener('click', event => {\n                if ((event.currentTarget !== event.target) && (event.target.dataset.page != activePage.innerText)) {\n                    const clickedPage = event.target\n                    const clickedPageNo = event.target.dataset.page\n\n                    // >>> Тут викликаємо функцію рендеру сітки елементів для clickedpage. В якості page передаємо clickedPageNo <<<\n                \n                    // Перефарбовуємо активну кнопку + замінюємо значення активної\n                    activePage.classList.toggle('active', false) // Вимикаємо минулу активну сторінку\n                    clickedPage.classList.toggle('active', true) // Вмикаємо нову активну\n                    activePage = clickedPage // Оновлюємо значення активної кнопки на клікнуту\n\n                    // Активуємо стрілки зліва, якщо активна сторінка 2+\n                    if (activePage.dataset.page > 1) { enableLeftArrows(); }\n                    // ДеАктивуємо стрілки зліва, якщо активна сторінка 1\n                    else if (activePage.dataset.page == 1) { disableLeftArrows() }\n\n                    // Деактивуємо >, >> якщо активна остання сторінка\n                    if (activePage.dataset.page == pagesNo) { disableRightArrows() }\n                    // Інакше вони активні\n                    else { enableRightArrows() }\n                }\n            });\n\n            // 03. Додаємо слухачів на стрілки\n\n            function enableLeftArrows() {\n                btnToStart.removeAttribute('disabled', ''); // Стрілка <<\n                btnPreviousPage.removeAttribute('disabled', '');   // Стрілка <\n            }\n\n            function disableLeftArrows() {\n                // Стрілка <<\n                btnToStart.setAttribute('disabled', '')\n                // Стрілка <\n                btnPreviousPage.setAttribute('disabled', '')\n            }\n\n            function disableRightArrows() {\n                // Стрілка >\n                btnNextPage.setAttribute('disabled', '')\n                // Стрілка >>\n                btnLastPage.setAttribute('disabled', '')\n            }\n\n            function enableRightArrows() {\n                // Стрілка >\n                btnNextPage.removeAttribute('disabled', '')\n                \n                // Стрілка <\n                btnLastPage.removeAttribute('disabled', '')\n                \n            }\n\n            // Тут оновлення видачі по кліку на стрілки навігаційні\n\n            btnToStart.addEventListener('click', event => {\n\n                // >> Ре-рендеримо сітку, в якості page використовуємо 1.\n\n                activePage.classList.toggle('active', false); // Вимикаємо минулу активну сторінку\n                activePage = pagesList.children[0].children[0]; // Оновлюємо значення активної кнопки на 1\n                activePage.classList.toggle('active', true); // Вмикаємо нову активну\n                disableLeftArrows()\n                enableRightArrows()\n            });\n            \n            btnPreviousPage.addEventListener('click', event => {\n                const previousPageNo = Number(activePage.dataset.page) - 1;\n\n                // >> Ре-рендеримо сітку, в якості page використовуємо previousPageNo.\n\n                activePage.classList.toggle('active', false); // Вимикаємо минулу активну сторінку\n                activePage = pagesList.children[previousPageNo - 1].children[0]; // Оновлюємо значення активної кнопки на 1\n                activePage.classList.toggle('active', true); // Вмикаємо нову активну\n                let activePageNo = activePage.dataset.page;\n                if (activePageNo == 1) { disableLeftArrows() };\n                enableRightArrows();\n\n            });\n\n            btnNextPage.addEventListener('click', event => {\n                const nextPageNo = Number(activePage.dataset.page) + 1;\n\n                // >> Ре-рендеримо сітку, в якості page використовуємо nextPageNo.\n\n                activePage.classList.toggle('active', false); // Вимикаємо минулу активну сторінку\n                activePage = pagesList.children[nextPageNo - 1].children[0]; // Оновлюємо значення активної кнопки на 1\n                activePage.classList.toggle('active', true); // Вмикаємо нову активну\n                let activePageNo = activePage.dataset.page;\n                if (activePageNo == pagesNo) { disableRightArrows(); }\n                enableLeftArrows();\n            });\n            btnLastPage.addEventListener('click', event => { \n\n                // >> Ре-рендеримо сітку, в якості page використовуємо pagesNo.\n    \n                activePage.classList.toggle('active', false); // Вимикаємо минулу активну сторінку\n                activePage = pagesList.children[pagesNo - 1].children[0]; // Оновлюємо значення активної кнопки на 1\n                activePage.classList.toggle('active', true); // Вмикаємо нову активну\n                disableRightArrows();\n                enableLeftArrows();\n\n            });\n    })\n        .catch(e => { console.log(e) })\n};\n\nfetchCategories()\n\n\n"],"names":["paginationEl","pagesList","arrowButtons","btnToStart","btnPreviousPage","btnNextPage","btnLastPage","activePage","fetchCategories","filter","page","result","data","pagesNo","HTMLArray","event","clickedPage","enableLeftArrows","disableLeftArrows","disableRightArrows","enableRightArrows","previousPageNo","nextPageNo","e"],"mappings":"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"}