import{a as M,T as w}from"./vendor-cc1203f3.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const n of a.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&o(n)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();const h=M.create({baseURL:"https://your-energy.b.goit.study/api",headers:{Accept:"application/json"}}),T=async t=>{var r,o;const e=await h.post("/subscription",{email:t});if((r=e.data)!=null&&r.error)throw new Error(((o=e.data)==null?void 0:o.error)||"Subscription failed");return e.data},A=async(t="Muscles",e=1)=>{const o=window.innerWidth<768?9:12;try{const s=await h.get("/filters",{params:{filter:t,page:e,limit:o}});if(!s.data)throw new Error("No data received");return s.data}catch(s){throw console.error("Error fetching categories:",s),new Error("Failed to fetch categories. Please try again later.")}},D=async()=>{try{return(await h.get("/quote")).data}catch(t){console.error("Error fetching the quote:",t)}},B=async({bodypart:t="",muscles:e="",equipment:r="",keyword:o="",page:s=1,limit:a=10})=>{try{return(await h.get("/exercises",{params:{bodypart:t,muscles:e,equipment:r,keyword:o,page:s,limit:a}})).data}catch(n){console.error("Error fetching exercises:",n)}},P=()=>{document.getElementById("subscription-form").addEventListener("submit",async e=>{var s,a,n;e.preventDefault();const r=e.target.elements.email,o=r.value;try{const c=await T(o);if(c){const L=((s=c.data)==null?void 0:s.message)||c.message||"Subscription successful!";w({text:L,duration:3e3,style:{background:"#4CAF50"},close:!0}).showToast(),r.value=""}}catch(c){const L=((n=(a=c.response)==null?void 0:a.data)==null?void 0:n.message)||c.message||"An error occurred. Please try again later.";w({text:L,duration:3e3,style:{background:"#FF5F6D"},close:!0}).showToast()}})},l=document.querySelector(".js-search-form");document.querySelector(".js-search-input");function E(){l.classList.contains("hidden-search")||l.classList.add("hidden-search")}function C(){l.classList.contains("hidden-search")&&l.classList.remove("hidden-search")}const i=document.querySelector('button[data-name="Muscles"]'),d=document.querySelector('button[data-name="Body parts"]'),u=document.querySelector('button[data-name="Equipment"]'),b=document.querySelector(".exercises-categories-list");let I=1,S;i.addEventListener("click",async t=>{i.classList.add("active"),u.classList.remove("active"),d.classList.remove("active"),f.classList.remove("hidden"),y.classList.add("hidden"),E(),p("Muscles")});d.addEventListener("click",async t=>{i.classList.remove("active"),u.classList.remove("active"),d.classList.add("active"),f.classList.remove("hidden"),y.classList.add("hidden"),E(),p("Body parts")});u.addEventListener("click",async t=>{i.classList.remove("active"),u.classList.add("active"),d.classList.remove("active"),f.classList.remove("hidden"),y.classList.add("hidden"),E(),p("Equipment")});async function p(t){try{S=await A(t,I),b.innerHTML="",b.insertAdjacentHTML("beforeend",F(S.results))}catch(e){console.log("Error fetching categories:",e)}}async function $(){i.classList.add("active"),p("Muscles")}function F(t){return t.map(e=>{const{filter:r,name:o,imgURL:s}=e;return` <li class="exercises-categories-item" data-body-part='${o}' data-category-filter='${r}'>
			<button type="button" class="exercises-categories-btn"  alt="${o}" style='background: linear-gradient(0deg, rgba(17, 17, 17, 0.50) 0%, rgba(17, 17, 17, 0.50) 100%), url(${s}) no-repeat;
background-size: cover;
	background-position: center;'

				<div class="exercises-categories-info">
					<h3 class="exercises-category-title">${o}</h3>
					<p class="exercises-category-descr">${r}</p>
				</div>
			</button>
		</li> `}).join("")}const j=document.querySelector(".filtered-exercises-categories-list"),f=document.querySelector(".exercises-list-container"),y=document.querySelector(".filtered-exercises-list-container");let v={};b.addEventListener("click",async t=>{const e=t.target.closest(".exercises-categories-item");if(y.classList.remove("hidden"),e){let o="";switch(e.getAttribute("data-category-filter")){case"Muscles":o="muscles";break;case"Body parts":o="bodypart";break;case"Equipment":o="equipment";break}const s=e.getAttribute("data-body-part");v={[o]:s,keyword:"",page:1,limit:10},f.classList.add("hidden")}console.log(v);const r=await B({...v});console.log(r.results),C(),j.innerHTML=O(r.results)});const O=t=>t.map(e=>`<li>
                <div class="filtered-exercises-categories-list-item">
                  <svg class="icon" aria-hidden="true" width="24" height="24">
                    <use href="./img/sprite.svg#men"></use>
                  </svg>
                  <h3>${e.name}</h3>
                  <p><strong>Calories:</strong> ${e.burnedCalories} / 3 min</p>
                  <p><strong>Body Part:</strong> ${e.bodyPart}</p>
                  <p><strong>Target:</strong> ${e.target}</p>
                  <p><strong>Rating:</strong>
                    <svg class="star-icon" aria-hidden="true" width="24" height="24">
                      <use href="./img/sprite.svg#stars"></use>
                    </svg>
                    ${e.rating}
                  </p>
                    <button class="start-button">Start</button>
                </div>
              </li>`).join("");document.addEventListener("DOMContentLoaded",function(){const t=document.querySelector(".js-open-menu"),e=document.querySelector(".js-close-menu"),r=document.querySelector(".menu-backdrop");t&&r&&(t.addEventListener("click",function(){r.classList.add("is-open"),e.style.display="block"}),e.addEventListener("click",function(){r.classList.remove("is-open"),e.style.display="none"}))});const m=document.querySelectorAll(".header-nav-link");function q(t){m.forEach(e=>e.parentElement.classList.remove("active")),t.parentElement.classList.add("active")}window.addEventListener("load",()=>{const t=window.location.pathname,e=[...m].find(r=>t.includes(r.getAttribute("href")));if(e)q(e);else{const r=m[0];q(r)}});m.forEach(t=>{t.addEventListener("click",e=>{localStorage.setItem("activeLink",e.currentTarget.getAttribute("href")),q(e.currentTarget)})});const x=document.querySelector(".sidebar-quote"),k=document.querySelector(".sidebar-quote-author"),H=localStorage.getItem("quoteDate"),N=new Date,Q=async()=>{if(H!==N.toLocaleDateString()){const t=await D();x.innerHTML=t.quote,k.innerHTML=t.author;const e=new Date;localStorage.setItem("quoteText",t.quote),localStorage.setItem("quoteAuthor",t.author),localStorage.setItem("quoteDate",e.toLocaleDateString())}else x.innerHTML=localStorage.getItem("quoteText"),k.innerHTML=localStorage.getItem("quoteAuthor")};Q();const g=document.querySelector(".scroll-container");g.classList.add("hidden");window.addEventListener("scroll",()=>{window.scrollY>300?g.classList.remove("hidden"):g.classList.add("hidden")});g.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});document.addEventListener("DOMContentLoaded",()=>{P(),$()});
//# sourceMappingURL=main-69886bdd.js.map
